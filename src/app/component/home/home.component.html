<main class="full-screen-container" fxLayoutGap="2rem" fxLayout="column">

  <app-map-filter [long]="long" [lat]="lat" [radius]="radius" (locationChange)="updateLocation($event)"></app-map-filter>

  <div fxFlex="grow" fxLayout="row" fxLayoutGap="2rem" fxLayoutAlign="start stretch">
    <!-- list of place cards -->
    <div style="overflow: scroll" fxFlex="300px" fxLayout="column" fxLayoutGap="1rem">
      <mat-card *ngFor="let place of places | async" style="width: 100%; margin: 1rem;">
        <mat-card-header>
          <div mat-card-avatar style="width: 25%">
            <img style="max-height: 100%" src="{{ getPhoto(place.getPhotoRef()) }}">
          </div>
          <mat-card-title>{{place.getName()}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-chip-list>
                <mat-chip color="accent" selected *ngFor="let type of place.getTypes()">{{type}}</mat-chip>
              </mat-chip-list>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>SAVE</button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- map -->
    <div fxFlex="grow">
      <agm-map [zoom]="15" [latitude]="lat" [longitude]="long">
        <agm-marker [latitude]="lat" [longitude]="long"></agm-marker>
        <agm-marker *ngFor="let place of places | async"
          [latitude]="place.getLat()" 
          [longitude]="place.getLong()">
        </agm-marker>
      </agm-map>
    </div>

  </div>
</main>